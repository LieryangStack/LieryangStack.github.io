---
layout: post
title: 十一、GTK4——GtkNative
categories: GTK4
tags: [GTK4]
---

## 1 GdkDisplayManager

`GdkDisplayManager` 对象可以打开一个默认的 `GdkDisplay`对象和存储多个 `GdkDisplay` 对象。

1. 通过 `gdk_display_manager_get()` 函数，可以获取到唯一的静态 `GdkDisplayManager` 对象。

2. 通过 `gdk_display_manager_open_display()` 函数和设置 `GDK_BACKEND` 环境变量，可以打开一个显示后端，设置默认的default_display，并且返回 `GdkDisplay` 对象。

3. 创建静态 `GdkDisplayManager` 对象和打开默认显示，都是在 `gtk_init()` 函数中完成。

4. 通过环境变量 `GDK_BACKEND` ，可以选择打开不同的显示后端。

  ![alt text](image.png)


## 2 GdkDisplay

- `GdkX11Display` 继承于 `GdkDisplay`。

- `GdkX11Display` 是对 X11显示的一个封装对象。


## 1 GtkNative

- 通过 `gtk_native_get_surface()` 函数，可以获取到 `GdkSurface`

- 通过 `gtk_native_get_renderer()` 函数，可以获取到 `GskRenderer` 

## 1.1 那些Widget实现了GtkNative接口

一个窗口内部的所有Widget，都是同一个 GtkNative 



## GdkDisplay



## GdkSurface