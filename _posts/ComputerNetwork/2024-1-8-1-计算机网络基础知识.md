---
layout: post
title: 一、计算机网络——基础知识
categories: 计算机网络
tags: [计算机网络]
---

## 1 因特网概述

- **internet(互连网)**：是一个通用名词，它泛指多个计算机网络互连而成的网络。在这些网络之间的通信协议可以是任意的。

- **Internet（因特网）**：它指当前全球最大的、开放的、由众多网络互连而成的特定计算机网络，它<font color="red">采用TCP/IP协议族</font>作为通信的规则，其前身是美国的ARPANET。


### 1.1 计算机网络

**计算机网络**: <font color="red">由若干节点(Node)和链接这些节点的链路(Link)组成的网络。</font>
        
  - **网络中的节点**：可以是计算机、交换器、集线器或者路由器等能够进行网络通信的终端设备。
  - **链路**：是一个节点到另外一个节点所走过的物理路线（铜线、光纤等）。


![alt text](/assets/ComputerNetwork/01_Base/image-2.png)

### 1.2 互连网


**互连网**: 多个网络通过路由器互连起来，这样就构成了一个覆盖范围更大的网络，即互连网（互联网）。因此，互联网又称为“网络的网络（Network of Networks）”。

![alt text](/assets/ComputerNetwork/01_Base/image-3.png)


### 1.3 因特网

**因特网**: 因特网（Internet）是世界上最大的互连网络（用户数以亿计，互连的网络数以百万计）。

![alt text](/assets/ComputerNetwork/01_Base/image-4.png)

### 1.4 因特网服务提供者ISP

![alt text](/assets/ComputerNetwork/01_Base/image-5.png)

### 1.5 因特网的组成

计算机网络的组成可以分为两部分：

- **核心部分**: 这一部分由大量的网络节点和连接这些网络节点的路由器组成，形成一个网络拓扑网，可以把核心部分理解为计算机网络的服务方。

- **边缘部分**: 这一部分指的就是网络上的主机（台式电脑，大型服务器，笔记本电脑，平板，智能手机等），也就是用户，这就相当于是计算机网络的“终点”，可以把边缘部分理解为计算机网络的请求方。

![alt text](/assets/ComputerNetwork/01_Base/image-6.png)

### 1.6 根据范围进行网络分类

计算机网络中的节点和各节点的链路可以形成各种不同范围的网络，通过**网络覆盖范围**的大小，可以分为局域网、城域网和广域网。

**局域网**：一般指的是范围在几百到几公里办公楼或者校园内计算机相互连接成的计算机网络，一般用在狭小区域内的网络，一个社区、一栋楼、办公室经常使用局域网。

**城域网**：一个城市中的计算机所相互连接形成的计算机网络。城域网是介于广域网与局域网之间的一种高速网络。城域网设计的目标是要满足几千米范围内的大量企业、机关、公司的多个局城网互联的需求，以实现大量用户之间的数据、语音、图形与视频等多种信息的传输功能。

**广域网**：广域网中的计算机所形成的连接范围就更大了，常常是一个国家或是一个洲。其目的是为了让分市较远的各局域网互联。

## 2 三种交换方式


### 2.1 电路交换

传统两两相连的方式，当电话数量很多时，电话线也很多，就很不方便。

所以要使得每一部电话能够很方便地和另一部电话进行通信，就应该使用一个中间设备将这些电话连接起来，这个中间设备就是电话交换机。

![alt text](/assets/ComputerNetwork/01_Base/image-7.png)

### 2.2 报文交换

报文交换的时候，不会把整个数据分割成等长的数据段。

![alt text](/assets/ComputerNetwork/01_Base/image-10.png)

### 2.3 分组交换

![alt text](/assets/ComputerNetwork/01_Base/image-9.png)

同报文交换一样，分组交换也采用存储转发方式，但解决了报文交换中大报文传输的问题。分组交换限制了每次传送的数据块大小的上限，把大的数据块划分为合理的小数据块，这样加快了传输，这样因缓冲区不足而等待发送的概率及时间也必然少得多。


### 2.4 三种交换对比

![alt text](/assets/ComputerNetwork/01_Base/image-11.png)

电路交换：

* 通信之前首先要建立连接；连接建立好之后，就可以使用已建立好的连接进行数据传送；数据传送后，需释放连接，以归还之前建立连接所占用的通信线路资源。

* 一旦建立连接，中间的各结点交换机就是直通形式的，比特流可以直达终点；

报文交换：

* 可以随时发送报文，而不需要事先建立连接；整个报文先传送到相邻结点交换机，全部存储下来后进行查表转发，转发到下一个结点交换机。
* 整个报文需要在各结点交换机上进行存储转发，由于不限制报文大小，因此需要各结点交换机都具有较大的缓存空间。

分组交换：

* 可以随时发送分组，而不需要事先建立连接。构成原始报文的一个个分组，依次在各结点交换机上存储转发。各结点交换机在发送分组的同时，还缓存接收到的分组。
* 构成原始报文的一个个分组，在各结点交换机上进行存储转发，相比报文交换，减少了转发时延，还可以避免过长的报文长时间占用链路，同时也有利于进行差错控制。

![alt text](/assets/ComputerNetwork/01_Base/image-12.png)

## 3 计算机网络的性能指标

### 3.1 速率

![alt text](/assets/ComputerNetwork/01_Base/image-13.png)

### 3.2 带宽

![alt text](/assets/ComputerNetwork/01_Base/image-14.png)

### 3.3 吞吐量

![alt text](/assets/ComputerNetwork/01_Base/image-15.png)

### 3.4 时延

时延时指数据（一个报文或分组，甚至比特）从网络（或链路）的一端传送到另一端所需的时间。

网络时延由几部分组成：

- **发送时延**: 主机或路由器发送数据帧所需要的时间，也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间。

- **传播时延**: 电磁波在信道中传播一定的距离需要花费的时间。

- **处理时延**: 主机或路由器在收到分组时要花费一定时间进行处理

- **排队时延**: 分组在进过网络传输时，要经过许多路由器。但分组在进入路由器后要先在输入队列中排队等待处理。(有时会把排队时延看成处理时延一部分)


<font color="red">总时延 = 发送时延 + 传播时延 + 处理时延 （处理时延 + 排队时延）</font>

当处理时延忽略不计时，发送时延 和 传播时延谁占主导，要具体情况具体分析

![alt text](/assets/ComputerNetwork/01_Base/image-16.png)

![alt text](/assets/ComputerNetwork/01_Base/image-17.png)

### 3.5 时延带宽积

时延带宽积 = 传播时延 * 带宽

![alt text](/assets/ComputerNetwork/01_Base/image-18.png)

### 3.6 往返时间

互联网上的信息不仅仅单方向传输而是双向交互的。因此，我们有时很需要知道双向交互一次所需的时间。

![alt text](/assets/ComputerNetwork/01_Base/image-19.png)

### 3.7 利用率

![alt text](/assets/ComputerNetwork/01_Base/image-20.png)

### 3.8 丢包率

![alt text](/assets/ComputerNetwork/01_Base/image-21.png)

## 4 计算机网络体系结构

**那么网络协议是什么呢？**

<font color="red">网络协议就是网络中（包括互联网）传递、管理信息的一些规范。如同人与人之间相互交流是需要遵循一定的规矩一样，计算机之间的相互通信需要共同遵守一定的规则，这些规则就称为网络协议。</font>

我们一般都了解过 HTTP 协议，我说一句话总结就是**HTTP 是一个在计算机网络中在两点之间传输文本、图片、音频、视频等超文本数据的约定和规范**。

除了 HTTP 协议之外，网络协议还有很多，举几个比较有名的就是 IP、TCP、UDP、DNS 协议等。下面是一些协议的汇总和介绍。

| 网络体系结构 | 协议                                      | 主要用途               |
| ------------ | ----------------------------------------- | ---------------------- |
| TCP/IP       | HTTP、SMTP、TELNET、IP、ICMP、TCP、UDP 等 | 主要用于互联网、局域网 |
| IPX/SPX      | IPX、NPC、SPX                             | 主要用于个人电脑局域网 |
| AppleTalk    | AEP、ADP、DDP                             | 苹果公司现有产品互联   |

ISO 在制定标准化 OSI 模型之前，对网络体系结构相关的问题进行了充分的讨论，最终提出了作为通信协议设计指标的 OSI 参考模型。这一模型将通信协议中必要的功能分为了七层。通过这七层分层，使那些比较复杂的协议简单化。

![alt text](/assets/ComputerNetwork/01_Base/image-22.png)

![alt text](/assets/ComputerNetwork/01_Base/image-23.png)

### 4.1 计算机网络体系结构分层的必要性

#### 4.1 物理层解决的问题

![alt text](/assets/ComputerNetwork/01_Base/image-24.png)

#### 4.2 数据链路层解决的问题

![alt text](/assets/ComputerNetwork/01_Base/image-25.png)

#### 4.3 网络层解决的问题

![alt text](/assets/ComputerNetwork/01_Base/image-26.png)

#### 4.4 运输层解决的问题

![alt text](/assets/ComputerNetwork/01_Base/image-27.png)

#### 4.5 应用层解决的问题

![alt text](/assets/ComputerNetwork/01_Base/image-28.png)